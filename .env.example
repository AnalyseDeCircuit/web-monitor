# web-monitor 示例环境变量
#
# 使用方式：
# 1) 复制：cp .env.example .env
# 2) 按需修改：vim .env
# 3) 启动：docker compose --env-file .env up -d --build

# =====================
# 基础配置
# =====================
# WebSocket /ws/stats 的 Origin allowlist（逗号分隔）
# 不设置：仅允许同源浏览器连接（无 Origin 的非浏览器客户端仍允许）。
WS_ALLOWED_ORIGINS=

# =====================
# Docker 相关
# =====================
# 推荐默认：通过本仓库的 allowlist docker proxy 访问
DOCKER_HOST=tcp://127.0.0.1:2375

# 只读模式（true 时拒绝 start/stop/restart/remove/prune 等写操作）
DOCKER_READ_ONLY=false

# 仅供 docker-socket-proxy sidecar 使用（rootless 场景覆盖默认 sock 路径）
# DOCKER_SOCK=/run/user/1000/docker.sock

# =====================
# 性能调优（可选）
# =====================
# 进程列表中昂贵字段的刷新周期：支持 60s 或 60（秒）
PROCESS_IO_REFRESH=30s
PROCESS_CWD_REFRESH=60s

# WebSocket 可选主题采集周期/超时上限（降低尖峰与卡顿）
WS_PROCESSES_INTERVAL=15s
WS_PROCESSES_TIMEOUT=3s
WS_NET_DETAIL_INTERVAL=15s
WS_NET_DETAIL_TIMEOUT=3s
WS_SSH_TIMEOUT=3s
